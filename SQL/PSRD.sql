-- Generated by Oracle SQL Developer Data Modeler 3.0.0.665.2
--   at:        2012-01-09 16:57:04 CET
--   site:      Oracle Database 11g
--   type:      Oracle Database 11g



CREATE TABLE AGE_PROFILES 
    ( 
     CODE VARCHAR2 (10)  NOT NULL , 
     DISPLAY_SEQ NUMBER (5) , 
     ACTIVE_FLAG VARCHAR2 (1) DEFAULT 'Y'  NOT NULL CHECK ( ACTIVE_FLAG IN ('N', 'Y')) , 
     TXT_ID INTEGER  NOT NULL 
    ) 
;



ALTER TABLE AGE_PROFILES 
    ADD CONSTRAINT PK_AGP PRIMARY KEY ( CODE ) ;

ALTER TABLE AGE_PROFILES 
    ADD CONSTRAINT UK_AGP_TXT_ID UNIQUE ( TXT_ID ) ;


CREATE TABLE AGE_RANGES 
    ( 
     AGP_CODE VARCHAR2 (10)  NOT NULL , 
     AGE_FROM NUMBER (3)  NOT NULL , 
     AGE_TO NUMBER (3)  NOT NULL , 
     TXT_ID INTEGER  NOT NULL 
    ) 
;



ALTER TABLE AGE_RANGES 
    ADD CONSTRAINT CH_AGR 
    CHECK (AGE_TO >= AGE_FROM)
        INITIALLY IMMEDIATE 
        ENABLE 
        VALIDATE 
;


ALTER TABLE AGE_RANGES 
    ADD CONSTRAINT PK_AGR PRIMARY KEY ( AGP_CODE, AGE_FROM ) ;

ALTER TABLE AGE_RANGES 
    ADD CONSTRAINT UK_AGR_TXT_ID UNIQUE ( TXT_ID ) ;


CREATE TABLE COMPONENTS 
    ( 
     CODE VARCHAR2 (10)  NOT NULL , 
     MSG_SEQ_NBR_MAX INTEGER DEFAULT 0  NOT NULL , 
     DISPLAY_SEQ NUMBER (5) , 
     ACTIVE_FLAG VARCHAR2 (1) DEFAULT 'Y'  NOT NULL , 
     TXT_ID INTEGER  NOT NULL 
    ) 
;



ALTER TABLE COMPONENTS 
    ADD CONSTRAINT CH_COMP_MSG_SEQ_NBR_MAX 
    CHECK ( MSG_SEQ_NBR_MAX >= 0) 
;


ALTER TABLE COMPONENTS 
    ADD CONSTRAINT CH_COMP_ACTIVE_FLAG 
    CHECK ( ACTIVE_FLAG IN ('N', 'Y')) 
;


ALTER TABLE COMPONENTS 
    ADD CONSTRAINT PK_COMP PRIMARY KEY ( CODE ) ;

ALTER TABLE COMPONENTS 
    ADD CONSTRAINT UK_COMP_TXT_ID UNIQUE ( TXT_ID ) ;


CREATE TABLE LANGUAGES 
    ( 
     CODE VARCHAR2 (6)  NOT NULL , 
     DISPLAY_SEQ NUMBER (5) , 
     ACTIVE_FLAG VARCHAR2 (1) DEFAULT 'Y'  NOT NULL , 
     TXT_ID INTEGER  NOT NULL 
    ) 
;



ALTER TABLE LANGUAGES 
    ADD CONSTRAINT CH_LANG_ACTIVE_FLAG 
    CHECK ( ACTIVE_FLAG in ('Y', 'N')) 
;


ALTER TABLE LANGUAGES 
    ADD CONSTRAINT PK_LANG PRIMARY KEY ( CODE ) ;

ALTER TABLE LANGUAGES 
    ADD CONSTRAINT UK_LANG_TXT_ID UNIQUE ( TXT_ID ) ;


CREATE TABLE LOCATIONS 
    ( 
     CODE NUMBER (9)  NOT NULL , 
     LOCT_CODE VARCHAR2 (10)  NOT NULL , 
     COUNTRY_CODE VARCHAR2 (3) , 
     START_DATE DATE  NOT NULL , 
     END_DATE DATE  NOT NULL , 
     TXT_ID INTEGER  NOT NULL 
    ) 
;



ALTER TABLE LOCATIONS 
    ADD CONSTRAINT CH_LOC_DATES 
    CHECK (END_DATE >= START_DATE)
        INITIALLY IMMEDIATE 
        ENABLE 
        VALIDATE 
;

CREATE INDEX IX_LOC_COUNTRY_CODE ON LOCATIONS 
    ( 
     COUNTRY_CODE ASC 
    ) 
;

ALTER TABLE LOCATIONS 
    ADD CONSTRAINT PK_LOC PRIMARY KEY ( CODE ) ;

ALTER TABLE LOCATIONS 
    ADD CONSTRAINT UK_LOC_TXT_ID UNIQUE ( TXT_ID ) ;


CREATE TABLE LOCATION_ATTRIBUTES 
    ( 
     LOC_CODE NUMBER (9)  NOT NULL , 
     LOCAT_CODE VARCHAR2 (10)  NOT NULL , 
     START_DATE DATE  NOT NULL , 
     END_DATE DATE  NOT NULL , 
     CHAR_VALUE VARCHAR2 (1000) , 
     NUM_VALUE NUMBER , 
     DATE_VALUE DATE , 
     TXT_ID INTEGER 
    ) 
;



ALTER TABLE LOCATION_ATTRIBUTES 
    ADD CONSTRAINT CH_LOCA_VALUE 
    CHECK ((CHAR_VALUE is not null and NUM_VALUE is null and DATE_VALUE is null) or
(CHAR_VALUE is null and NUM_VALUE is not null and DATE_VALUE is null) or
(CHAR_VALUE is null and NUM_VALUE is null and DATE_VALUE is not null))
        INITIALLY IMMEDIATE 
        ENABLE 
        VALIDATE 
;


ALTER TABLE LOCATION_ATTRIBUTES 
    ADD CONSTRAINT PK_LOCA PRIMARY KEY ( LOC_CODE, LOCAT_CODE, START_DATE ) ;

ALTER TABLE LOCATION_ATTRIBUTES 
    ADD CONSTRAINT UK_LOCA_TXT_ID UNIQUE ( TXT_ID ) ;


CREATE TABLE LOCATION_ATTRIBUTE_TYPES 
    ( 
     CODE VARCHAR2 (10)  NOT NULL , 
     DISPLAY_SEQ NUMBER (5) , 
     ACTIVE_FLAG VARCHAR2 (1) DEFAULT 'Y'  NOT NULL CHECK ( ACTIVE_FLAG IN ('N', 'Y')) , 
     TXT_ID INTEGER  NOT NULL 
    ) 
;



ALTER TABLE LOCATION_ATTRIBUTE_TYPES 
    ADD CONSTRAINT PK_LOCAT PRIMARY KEY ( CODE ) ;

ALTER TABLE LOCATION_ATTRIBUTE_TYPES 
    ADD CONSTRAINT UK_LOCAT_TXT_ID UNIQUE ( TXT_ID ) ;


CREATE TABLE LOCATION_RELATIONSHIPS 
    ( 
     LOC_CODE_PARENT NUMBER (9)  NOT NULL , 
     LOC_CODE_CHILD NUMBER (9)  NOT NULL , 
     LOCRT_CODE VARCHAR2 (10)  NOT NULL , 
     START_DATE DATE  NOT NULL , 
     END_DATE DATE  NOT NULL , 
     TXT_ID INTEGER 
    ) 
;



ALTER TABLE LOCATION_RELATIONSHIPS 
    ADD CONSTRAINT PK_LOCR PRIMARY KEY ( LOC_CODE_PARENT, LOC_CODE_CHILD, LOCRT_CODE, START_DATE ) ;

ALTER TABLE LOCATION_RELATIONSHIPS 
    ADD CONSTRAINT UK_LOCR_TXT_ID UNIQUE ( TXT_ID ) ;


CREATE TABLE LOCATION_RELATIONSHIP_TYPES 
    ( 
     CODE VARCHAR2 (10)  NOT NULL , 
     DISPLAY_SEQ NUMBER (5) , 
     ACTIVE_FLAG VARCHAR2 (1) DEFAULT 'Y'  NOT NULL CHECK ( ACTIVE_FLAG IN ('N', 'Y')) , 
     TXT_ID INTEGER  NOT NULL 
    ) 
;



ALTER TABLE LOCATION_RELATIONSHIP_TYPES 
    ADD CONSTRAINT CH_LOCRT_CODE 
    CHECK (CODE = upper(CODE))
        INITIALLY IMMEDIATE 
        ENABLE 
        VALIDATE 
;


ALTER TABLE LOCATION_RELATIONSHIP_TYPES 
    ADD CONSTRAINT PK_LOCRT PRIMARY KEY ( CODE ) ;

ALTER TABLE LOCATION_RELATIONSHIP_TYPES 
    ADD CONSTRAINT UK_LOCRT_TXT_ID UNIQUE ( TXT_ID ) ;


CREATE TABLE LOCATION_TYPES 
    ( 
     CODE VARCHAR2 (10)  NOT NULL , 
     DISPLAY_SEQ NUMBER (5) , 
     ACTIVE_FLAG VARCHAR2 (1) DEFAULT 'Y'  NOT NULL CHECK ( ACTIVE_FLAG IN ('N', 'Y')) , 
     TXT_ID INTEGER  NOT NULL 
    ) 
;



ALTER TABLE LOCATION_TYPES 
    ADD CONSTRAINT PK_LOCT PRIMARY KEY ( CODE ) ;

ALTER TABLE LOCATION_TYPES 
    ADD CONSTRAINT UK_LOCT_TXT_ID UNIQUE ( TXT_ID ) ;


CREATE TABLE MESSAGES 
    ( 
     COMP_CODE VARCHAR2 (10)  NOT NULL , 
     SEQ_NBR INTEGER  NOT NULL , 
     SEVERITY VARCHAR2 (1) DEFAULT 'E'  NOT NULL , 
     TXT_ID INTEGER  NOT NULL 
    ) 
;



ALTER TABLE MESSAGES 
    ADD CONSTRAINT CH_MSG_SEQ_NBR 
    CHECK ( SEQ_NBR > 0) 
;


ALTER TABLE MESSAGES 
    ADD CONSTRAINT CH_MSG_SEVERITY 
    CHECK ( SEVERITY IN ('E', 'I', 'S', 'W')) 
;


ALTER TABLE MESSAGES 
    ADD CONSTRAINT PK_MSG PRIMARY KEY ( COMP_CODE, SEQ_NBR ) ;

ALTER TABLE MESSAGES 
    ADD CONSTRAINT UK_MSG_TXT_ID UNIQUE ( TXT_ID ) ;


CREATE TABLE POPULATION_CATEGORIES 
    ( 
     CODE VARCHAR2 (10)  NOT NULL , 
     DISPLAY_SEQ NUMBER (5) , 
     ACTIVE_FLAG VARCHAR2 (1) DEFAULT 'Y'  NOT NULL CHECK ( ACTIVE_FLAG IN ('N', 'Y')) , 
     TXT_ID INTEGER  NOT NULL 
    ) 
;



ALTER TABLE POPULATION_CATEGORIES 
    ADD CONSTRAINT PK_POPC PRIMARY KEY ( CODE ) ;

ALTER TABLE POPULATION_CATEGORIES 
    ADD CONSTRAINT UK_POPC_TXT_ID UNIQUE ( TXT_ID ) ;


CREATE TABLE POPULATION_PLANNING_GROUPS 
    ( 
     LOC_CODE NUMBER (9)  NOT NULL , 
     PPG_CODE VARCHAR2 (5)  NOT NULL , 
     START_DATE DATE  NOT NULL , 
     END_DATE DATE  NOT NULL , 
     TXT_ID INTEGER  NOT NULL 
    ) 
;



ALTER TABLE POPULATION_PLANNING_GROUPS 
    ADD CONSTRAINT CH_PPG_DATES 
    CHECK (END_DATE >= START_DATE)
        INITIALLY IMMEDIATE 
        ENABLE 
        VALIDATE 
;


ALTER TABLE POPULATION_PLANNING_GROUPS 
    ADD CONSTRAINT PK_PPG PRIMARY KEY ( LOC_CODE, PPG_CODE, START_DATE ) ;

ALTER TABLE POPULATION_PLANNING_GROUPS 
    ADD CONSTRAINT UK_PPG_TXT_ID UNIQUE ( TXT_ID ) ;


CREATE TABLE STATISTICS 
    ( 
     ID INTEGER  NOT NULL , 
     STCT_CODE VARCHAR2 (10)  NOT NULL , 
     LOC_CODE NUMBER (9)  NOT NULL , 
     LOC_CODE_COUNTRY_OF_ASYLUM NUMBER (9)  NOT NULL , 
     COUNTRY_CODE_ASYLUM VARCHAR2 (3)  NOT NULL , 
     LOC_CODE_COUNTRY_OF_ORIGIN NUMBER (9) , 
     COUNTRY_CODE_ORIGIN VARCHAR2 (3) , 
     LOC_CODE_PPG NUMBER (9) , 
     PPG_CODE VARCHAR2 (5) , 
     PPG_START_DATE DATE , 
     POPC_CODE VARCHAR2 (10) , 
     PER_ID INTEGER , 
     SEX VARCHAR2 (1) CHECK ( SEX IN ('F', 'M')) , 
     AGP_CODE VARCHAR2 (10) , 
     AGE_FROM NUMBER (3) , 
     AGE_TO NUMBER (3) , 
     STB_ID INTEGER , 
     VALUE INTEGER  NOT NULL , 
     TXT_ID INTEGER 
    ) 
;



ALTER TABLE STATISTICS 
    ADD CONSTRAINT PK_STC PRIMARY KEY ( ID ) ;

ALTER TABLE STATISTICS 
    ADD CONSTRAINT UK_STC UNIQUE ( STCT_CODE , LOC_CODE , LOC_CODE_COUNTRY_OF_ASYLUM , LOC_CODE_COUNTRY_OF_ORIGIN , LOC_CODE_PPG , PPG_CODE , PPG_START_DATE , POPC_CODE , PER_ID , SEX , AGP_CODE , AGE_FROM , AGE_TO ) ;

ALTER TABLE STATISTICS 
    ADD CONSTRAINT UK_STC_TXT_ID UNIQUE ( TXT_ID ) ;


CREATE TABLE STATISTICS_BATCHES 
    ( 
     ID INTEGER  NOT NULL , 
     DESCRIPTION VARCHAR2 (1000)  NOT NULL , 
     STATUS VARCHAR2 (10) , 
     PROVENANCE VARCHAR2 (100) 
    ) 
;



ALTER TABLE STATISTICS_BATCHES 
    ADD CONSTRAINT PK_STB PRIMARY KEY ( ID ) ;


CREATE TABLE STATISTIC_GROUPS 
    ( 
     CODE VARCHAR2 (10)  NOT NULL , 
     DISPLAY_SEQ NUMBER (5) , 
     ACTIVE_FLAG VARCHAR2 (1) DEFAULT 'Y'  NOT NULL CHECK ( ACTIVE_FLAG IN ('N', 'Y')) , 
     TXT_ID INTEGER  NOT NULL 
    ) 
;



ALTER TABLE STATISTIC_GROUPS 
    ADD CONSTRAINT PK_STCG PRIMARY KEY ( CODE ) ;

ALTER TABLE STATISTIC_GROUPS 
    ADD CONSTRAINT UK_STCG_TXT_ID UNIQUE ( TXT_ID ) ;


CREATE TABLE STATISTIC_TYPES 
    ( 
     CODE VARCHAR2 (10)  NOT NULL , 
     ORDER_SEQ NUMBER (5) , 
     ACTIVE_FLAG VARCHAR2 (1) DEFAULT 'Y'  NOT NULL CHECK ( ACTIVE_FLAG IN ('N', 'Y')) , 
     TXT_ID INTEGER  NOT NULL 
    ) 
;



ALTER TABLE STATISTIC_TYPES 
    ADD CONSTRAINT PK_STCT PRIMARY KEY ( CODE ) ;

ALTER TABLE STATISTIC_TYPES 
    ADD CONSTRAINT UK_STCT_TXT_ID UNIQUE ( TXT_ID ) ;


CREATE TABLE STATISTIC_TYPES_IN_GROUPS 
    ( 
     STCG_CODE VARCHAR2 (10)  NOT NULL , 
     STCT_CODE VARCHAR2 (10)  NOT NULL , 
     TXT_ID INTEGER 
    ) 
;



ALTER TABLE STATISTIC_TYPES_IN_GROUPS 
    ADD CONSTRAINT PK_STCTG PRIMARY KEY ( STCG_CODE, STCT_CODE ) ;

ALTER TABLE STATISTIC_TYPES_IN_GROUPS 
    ADD CONSTRAINT UK_STCTG_TXT_ID UNIQUE ( TXT_ID ) ;


CREATE TABLE TABLE_ALIASES 
    ( 
     ALIAS VARCHAR2 (10)  NOT NULL , 
     TABLE_NAME VARCHAR2 (30)  NOT NULL , 
     TXT_ID INTEGER 
    ) 
;



ALTER TABLE TABLE_ALIASES 
    ADD CONSTRAINT PK_TAB PRIMARY KEY ( ALIAS ) ;

ALTER TABLE TABLE_ALIASES 
    ADD CONSTRAINT UK_TAB_TABLE_NAME UNIQUE ( TABLE_NAME ) ;

ALTER TABLE TABLE_ALIASES 
    ADD CONSTRAINT UK_TAB_TXT_ID UNIQUE ( TXT_ID ) ;


CREATE TABLE TEXT_HEADERS 
    ( 
     ID INTEGER  NOT NULL , 
     TAB_ALIAS VARCHAR2 (10)  NOT NULL 
    ) 
;



ALTER TABLE TEXT_HEADERS 
    ADD CONSTRAINT PK_TXT PRIMARY KEY ( ID ) ;


CREATE TABLE TEXT_ITEMS 
    ( 
     TXT_ID INTEGER  NOT NULL , 
     TXTT_CODE VARCHAR2 (10)  NOT NULL , 
     SEQ_NBR INTEGER  NOT NULL , 
     LANG_CODE VARCHAR2 (6)  NOT NULL , 
     TEXT VARCHAR2 (1000) , 
     LONG_TEXT CLOB 
    ) 
;



ALTER TABLE TEXT_ITEMS 
    ADD CONSTRAINT CH_TXI_SEQ_NBR 
    CHECK ( SEQ_NBR > 0) 
;


ALTER TABLE TEXT_ITEMS 
    ADD CONSTRAINT CH_TXI_TEXT 
    CHECK ((TEXT is not null and LONG_TEXT is null) or
(TEXT is null and LONG_TEXT is not null))
        INITIALLY IMMEDIATE 
        ENABLE 
        VALIDATE 
;


ALTER TABLE TEXT_ITEMS 
    ADD CONSTRAINT PK_TXI PRIMARY KEY ( TXT_ID, TXTT_CODE, SEQ_NBR, LANG_CODE ) ;


CREATE TABLE TEXT_TYPES 
    ( 
     CODE VARCHAR2 (10)  NOT NULL , 
     DISPLAY_SEQ NUMBER (5) , 
     ACTIVE_FLAG VARCHAR2 (1) DEFAULT 'Y'  NOT NULL , 
     TXT_ID INTEGER  NOT NULL 
    ) 
;



ALTER TABLE TEXT_TYPES 
    ADD CONSTRAINT CH_TXTT_ACTIVE_FLAG 
    CHECK ( ACTIVE_FLAG IN ('N', 'Y')) 
;


ALTER TABLE TEXT_TYPES 
    ADD CONSTRAINT PK_TXTT PRIMARY KEY ( CODE ) ;

ALTER TABLE TEXT_TYPES 
    ADD CONSTRAINT UK_TXTT_TXT_ID UNIQUE ( TXT_ID ) ;


CREATE TABLE TEXT_TYPE_HEADERS 
    ( 
     TXT_ID INTEGER  NOT NULL , 
     TXTT_CODE VARCHAR2 (10)  NOT NULL , 
     TAB_ALIAS VARCHAR2 (10)  NOT NULL , 
     TXI_SEQ_NBR_MAX INTEGER DEFAULT 0  NOT NULL 
    ) 
;



ALTER TABLE TEXT_TYPE_HEADERS 
    ADD CONSTRAINT CH_TTH_TXI_SEQ_NBR_MAX 
    CHECK ( TXI_SEQ_NBR_MAX >= 0) 
;

CREATE INDEX IX_TTH_TTP ON TEXT_TYPE_HEADERS 
    ( 
     TXTT_CODE ASC , 
     TAB_ALIAS ASC 
    ) 
;

ALTER TABLE TEXT_TYPE_HEADERS 
    ADD CONSTRAINT PK_TTH PRIMARY KEY ( TXT_ID, TXTT_CODE ) ;


CREATE TABLE TEXT_TYPE_PROPERTIES 
    ( 
     TXTT_CODE VARCHAR2 (10)  NOT NULL , 
     TAB_ALIAS VARCHAR2 (10)  NOT NULL , 
     MANDATORY VARCHAR2 (1) DEFAULT 'N'  NOT NULL , 
     MULTI_INSTANCE VARCHAR2 (1) DEFAULT 'Y'  NOT NULL , 
     TXT_ID INTEGER 
    ) 
;



ALTER TABLE TEXT_TYPE_PROPERTIES 
    ADD CONSTRAINT CH_TTP_MANDATORY 
    CHECK ( MANDATORY IN ('N', 'Y')) 
;


ALTER TABLE TEXT_TYPE_PROPERTIES 
    ADD CONSTRAINT CH_TTP_MULTI_INSTANCE 
    CHECK ( MULTI_INSTANCE IN ('N', 'Y')) 
;


COMMENT ON COLUMN TEXT_TYPE_PROPERTIES.MANDATORY IS 'Is a text item of this type mandatory for all rows of this table?' 
;

COMMENT ON COLUMN TEXT_TYPE_PROPERTIES.MULTI_INSTANCE IS 'Can there be multiple instances of text values of this type for a rwo in this table?' 
;

ALTER TABLE TEXT_TYPE_PROPERTIES 
    ADD CONSTRAINT PK_TTP PRIMARY KEY ( TXTT_CODE, TAB_ALIAS ) ;

ALTER TABLE TEXT_TYPE_PROPERTIES 
    ADD CONSTRAINT UK_TTP_TXT_ID UNIQUE ( TXT_ID ) ;


CREATE TABLE TIME_PERIODS 
    ( 
     ID INTEGER  NOT NULL , 
     START_DATE DATE  NOT NULL , 
     END_DATE DATE  NOT NULL , 
     PERT_CODE VARCHAR2 (10)  NOT NULL , 
     PER_ID_PARENT INTEGER , 
     TXT_ID INTEGER 
    ) 
;



ALTER TABLE TIME_PERIODS 
    ADD CONSTRAINT CH_PER_DATES 
    CHECK (END_DATE >= START_DATE)
        INITIALLY IMMEDIATE 
        ENABLE 
        VALIDATE 
;

CREATE INDEX IX_PER_PARENT ON TIME_PERIODS 
    ( 
     PER_ID_PARENT ASC 
    ) 
;

ALTER TABLE TIME_PERIODS 
    ADD CONSTRAINT PK_PER PRIMARY KEY ( ID ) ;

ALTER TABLE TIME_PERIODS 
    ADD CONSTRAINT UK_PER_TXT_ID UNIQUE ( TXT_ID ) ;


CREATE TABLE TIME_PERIOD_TYPES 
    ( 
     CODE VARCHAR2 (10)  NOT NULL , 
     DISPLAY_SEQ NUMBER (5) , 
     ACTIVE_FLAG VARCHAR2 (1) DEFAULT 'Y'  NOT NULL CHECK ( ACTIVE_FLAG IN ('N', 'Y')) , 
     TXT_ID INTEGER  NOT NULL 
    ) 
;



ALTER TABLE TIME_PERIOD_TYPES 
    ADD CONSTRAINT PK_PERT PRIMARY KEY ( CODE ) ;

ALTER TABLE TIME_PERIOD_TYPES 
    ADD CONSTRAINT UK_PERT_TXT_ID UNIQUE ( TXT_ID ) ;



ALTER TABLE AGE_PROFILES 
    ADD CONSTRAINT FK_AGP_TXT FOREIGN KEY 
    ( 
     TXT_ID
    ) 
    REFERENCES TEXT_HEADERS 
    ( 
     ID
    ) 
;


ALTER TABLE AGE_RANGES 
    ADD CONSTRAINT FK_AGR_AGP FOREIGN KEY 
    ( 
     AGP_CODE
    ) 
    REFERENCES AGE_PROFILES 
    ( 
     CODE
    ) 
;


ALTER TABLE AGE_RANGES 
    ADD CONSTRAINT FK_AGR_TXT FOREIGN KEY 
    ( 
     TXT_ID
    ) 
    REFERENCES TEXT_HEADERS 
    ( 
     ID
    ) 
;


ALTER TABLE COMPONENTS 
    ADD CONSTRAINT FK_COMP_TXT FOREIGN KEY 
    ( 
     TXT_ID
    ) 
    REFERENCES TEXT_HEADERS 
    ( 
     ID
    ) 
;


ALTER TABLE LANGUAGES 
    ADD CONSTRAINT FK_LANG_TXT FOREIGN KEY 
    ( 
     TXT_ID
    ) 
    REFERENCES TEXT_HEADERS 
    ( 
     ID
    ) 
;


ALTER TABLE LOCATION_ATTRIBUTE_TYPES 
    ADD CONSTRAINT FK_LOCAT_TXT FOREIGN KEY 
    ( 
     TXT_ID
    ) 
    REFERENCES TEXT_HEADERS 
    ( 
     ID
    ) 
;


ALTER TABLE LOCATION_ATTRIBUTES 
    ADD CONSTRAINT FK_LOCA_LOC FOREIGN KEY 
    ( 
     LOC_CODE
    ) 
    REFERENCES LOCATIONS 
    ( 
     CODE
    ) 
;


ALTER TABLE LOCATION_ATTRIBUTES 
    ADD CONSTRAINT FK_LOCA_LOCAT FOREIGN KEY 
    ( 
     LOCAT_CODE
    ) 
    REFERENCES LOCATION_ATTRIBUTE_TYPES 
    ( 
     CODE
    ) 
;


ALTER TABLE LOCATION_ATTRIBUTES 
    ADD CONSTRAINT FK_LOCA_TXT FOREIGN KEY 
    ( 
     TXT_ID
    ) 
    REFERENCES TEXT_HEADERS 
    ( 
     ID
    ) 
    ON DELETE SET NULL 
;


ALTER TABLE LOCATION_RELATIONSHIP_TYPES 
    ADD CONSTRAINT FK_LOCRT_TXT FOREIGN KEY 
    ( 
     TXT_ID
    ) 
    REFERENCES TEXT_HEADERS 
    ( 
     ID
    ) 
;


ALTER TABLE LOCATION_RELATIONSHIPS 
    ADD CONSTRAINT FK_LOCR_LOCRT FOREIGN KEY 
    ( 
     LOCRT_CODE
    ) 
    REFERENCES LOCATION_RELATIONSHIP_TYPES 
    ( 
     CODE
    ) 
;


ALTER TABLE LOCATION_RELATIONSHIPS 
    ADD CONSTRAINT FK_LOCR_LOC_CHILD FOREIGN KEY 
    ( 
     LOC_CODE_CHILD
    ) 
    REFERENCES LOCATIONS 
    ( 
     CODE
    ) 
;


ALTER TABLE LOCATION_RELATIONSHIPS 
    ADD CONSTRAINT FK_LOCR_LOC_PARENT FOREIGN KEY 
    ( 
     LOC_CODE_PARENT
    ) 
    REFERENCES LOCATIONS 
    ( 
     CODE
    ) 
;


ALTER TABLE LOCATION_RELATIONSHIPS 
    ADD CONSTRAINT FK_LOCR_TXT FOREIGN KEY 
    ( 
     TXT_ID
    ) 
    REFERENCES TEXT_HEADERS 
    ( 
     ID
    ) 
    ON DELETE SET NULL 
;


ALTER TABLE LOCATION_TYPES 
    ADD CONSTRAINT FK_LOCT_TXT FOREIGN KEY 
    ( 
     TXT_ID
    ) 
    REFERENCES TEXT_HEADERS 
    ( 
     ID
    ) 
;


ALTER TABLE LOCATIONS 
    ADD CONSTRAINT FK_LOC_LOCT FOREIGN KEY 
    ( 
     LOCT_CODE
    ) 
    REFERENCES LOCATION_TYPES 
    ( 
     CODE
    ) 
;


ALTER TABLE LOCATIONS 
    ADD CONSTRAINT FK_LOC_TXT FOREIGN KEY 
    ( 
     TXT_ID
    ) 
    REFERENCES TEXT_HEADERS 
    ( 
     ID
    ) 
;


ALTER TABLE MESSAGES 
    ADD CONSTRAINT FK_MSG_COMP FOREIGN KEY 
    ( 
     COMP_CODE
    ) 
    REFERENCES COMPONENTS 
    ( 
     CODE
    ) 
;


ALTER TABLE MESSAGES 
    ADD CONSTRAINT FK_MSG_TXT FOREIGN KEY 
    ( 
     TXT_ID
    ) 
    REFERENCES TEXT_HEADERS 
    ( 
     ID
    ) 
;


ALTER TABLE TIME_PERIOD_TYPES 
    ADD CONSTRAINT FK_PERT_TXT FOREIGN KEY 
    ( 
     TXT_ID
    ) 
    REFERENCES TEXT_HEADERS 
    ( 
     ID
    ) 
;


ALTER TABLE TIME_PERIODS 
    ADD CONSTRAINT FK_PER_PER FOREIGN KEY 
    ( 
     PER_ID_PARENT
    ) 
    REFERENCES TIME_PERIODS 
    ( 
     ID
    ) 
    ON DELETE SET NULL 
;


ALTER TABLE TIME_PERIODS 
    ADD CONSTRAINT FK_PER_PERT FOREIGN KEY 
    ( 
     PERT_CODE
    ) 
    REFERENCES TIME_PERIOD_TYPES 
    ( 
     CODE
    ) 
;


ALTER TABLE TIME_PERIODS 
    ADD CONSTRAINT FK_PER_TXT FOREIGN KEY 
    ( 
     TXT_ID
    ) 
    REFERENCES TEXT_HEADERS 
    ( 
     ID
    ) 
    ON DELETE SET NULL 
;


ALTER TABLE POPULATION_CATEGORIES 
    ADD CONSTRAINT FK_POPC_TXT FOREIGN KEY 
    ( 
     TXT_ID
    ) 
    REFERENCES TEXT_HEADERS 
    ( 
     ID
    ) 
;


ALTER TABLE POPULATION_PLANNING_GROUPS 
    ADD CONSTRAINT FK_PPG_LOC FOREIGN KEY 
    ( 
     LOC_CODE
    ) 
    REFERENCES LOCATIONS 
    ( 
     CODE
    ) 
;


ALTER TABLE POPULATION_PLANNING_GROUPS 
    ADD CONSTRAINT FK_PPG_TXT FOREIGN KEY 
    ( 
     TXT_ID
    ) 
    REFERENCES TEXT_HEADERS 
    ( 
     ID
    ) 
;


ALTER TABLE STATISTIC_GROUPS 
    ADD CONSTRAINT FK_STCG_TXT FOREIGN KEY 
    ( 
     TXT_ID
    ) 
    REFERENCES TEXT_HEADERS 
    ( 
     ID
    ) 
;


ALTER TABLE STATISTIC_TYPES_IN_GROUPS 
    ADD CONSTRAINT FK_STCTG_STCG FOREIGN KEY 
    ( 
     STCG_CODE
    ) 
    REFERENCES STATISTIC_GROUPS 
    ( 
     CODE
    ) 
;


ALTER TABLE STATISTIC_TYPES_IN_GROUPS 
    ADD CONSTRAINT FK_STCTG_STCT FOREIGN KEY 
    ( 
     STCT_CODE
    ) 
    REFERENCES STATISTIC_TYPES 
    ( 
     CODE
    ) 
;


ALTER TABLE STATISTIC_TYPES_IN_GROUPS 
    ADD CONSTRAINT FK_STCTG_TXT FOREIGN KEY 
    ( 
     TXT_ID
    ) 
    REFERENCES TEXT_HEADERS 
    ( 
     ID
    ) 
;


ALTER TABLE STATISTIC_TYPES 
    ADD CONSTRAINT FK_STCT_TXT FOREIGN KEY 
    ( 
     TXT_ID
    ) 
    REFERENCES TEXT_HEADERS 
    ( 
     ID
    ) 
;


ALTER TABLE STATISTICS 
    ADD CONSTRAINT FK_STC_AGR FOREIGN KEY 
    ( 
     AGP_CODE,
     AGE_FROM
    ) 
    REFERENCES AGE_RANGES 
    ( 
     AGP_CODE,
     AGE_FROM
    ) 
;


ALTER TABLE STATISTICS 
    ADD CONSTRAINT FK_STC_LOC FOREIGN KEY 
    ( 
     LOC_CODE
    ) 
    REFERENCES LOCATIONS 
    ( 
     CODE
    ) 
;


ALTER TABLE STATISTICS 
    ADD CONSTRAINT FK_STC_LOC_COUNTRY_OF_ASYLUM FOREIGN KEY 
    ( 
     LOC_CODE_COUNTRY_OF_ASYLUM
    ) 
    REFERENCES LOCATIONS 
    ( 
     CODE
    ) 
;


ALTER TABLE STATISTICS 
    ADD CONSTRAINT FK_STC_LOC_COUNTRY_OF_ORIGIN FOREIGN KEY 
    ( 
     LOC_CODE_COUNTRY_OF_ORIGIN
    ) 
    REFERENCES LOCATIONS 
    ( 
     CODE
    ) 
;


ALTER TABLE STATISTICS 
    ADD CONSTRAINT FK_STC_PER FOREIGN KEY 
    ( 
     PER_ID
    ) 
    REFERENCES TIME_PERIODS 
    ( 
     ID
    ) 
;


ALTER TABLE STATISTICS 
    ADD CONSTRAINT FK_STC_POPC FOREIGN KEY 
    ( 
     POPC_CODE
    ) 
    REFERENCES POPULATION_CATEGORIES 
    ( 
     CODE
    ) 
;


ALTER TABLE STATISTICS 
    ADD CONSTRAINT FK_STC_PPG FOREIGN KEY 
    ( 
     LOC_CODE_PPG,
     PPG_CODE,
     PPG_START_DATE
    ) 
    REFERENCES POPULATION_PLANNING_GROUPS 
    ( 
     LOC_CODE,
     PPG_CODE,
     START_DATE
    ) 
;


ALTER TABLE STATISTICS 
    ADD CONSTRAINT FK_STC_STB FOREIGN KEY 
    ( 
     STB_ID
    ) 
    REFERENCES STATISTICS_BATCHES 
    ( 
     ID
    ) 
;


ALTER TABLE STATISTICS 
    ADD CONSTRAINT FK_STC_STCT FOREIGN KEY 
    ( 
     STCT_CODE
    ) 
    REFERENCES STATISTIC_TYPES 
    ( 
     CODE
    ) 
;


ALTER TABLE STATISTICS 
    ADD CONSTRAINT FK_STC_TXT FOREIGN KEY 
    ( 
     TXT_ID
    ) 
    REFERENCES TEXT_HEADERS 
    ( 
     ID
    ) 
    ON DELETE SET NULL 
;


ALTER TABLE TABLE_ALIASES 
    ADD CONSTRAINT FK_TAB_TXT FOREIGN KEY 
    ( 
     TXT_ID
    ) 
    REFERENCES TEXT_HEADERS 
    ( 
     ID
    ) 
    ON DELETE SET NULL 
;


ALTER TABLE TEXT_TYPE_HEADERS 
    ADD CONSTRAINT FK_TTH_TTP FOREIGN KEY 
    ( 
     TXTT_CODE,
     TAB_ALIAS
    ) 
    REFERENCES TEXT_TYPE_PROPERTIES 
    ( 
     TXTT_CODE,
     TAB_ALIAS
    ) 
;


ALTER TABLE TEXT_TYPE_HEADERS 
    ADD CONSTRAINT FK_TTH_TXT FOREIGN KEY 
    ( 
     TXT_ID
    ) 
    REFERENCES TEXT_HEADERS 
    ( 
     ID
    ) 
    ON DELETE CASCADE 
;


ALTER TABLE TEXT_TYPE_HEADERS 
    ADD CONSTRAINT FK_TTH_TXTT FOREIGN KEY 
    ( 
     TXTT_CODE
    ) 
    REFERENCES TEXT_TYPES 
    ( 
     CODE
    ) 
;


ALTER TABLE TEXT_TYPE_PROPERTIES 
    ADD CONSTRAINT FK_TTP_TAB FOREIGN KEY 
    ( 
     TAB_ALIAS
    ) 
    REFERENCES TABLE_ALIASES 
    ( 
     ALIAS
    ) 
;


ALTER TABLE TEXT_TYPE_PROPERTIES 
    ADD CONSTRAINT FK_TTP_TXT FOREIGN KEY 
    ( 
     TXT_ID
    ) 
    REFERENCES TEXT_HEADERS 
    ( 
     ID
    ) 
    ON DELETE SET NULL 
;


ALTER TABLE TEXT_TYPE_PROPERTIES 
    ADD CONSTRAINT FK_TTP_TXTT FOREIGN KEY 
    ( 
     TXTT_CODE
    ) 
    REFERENCES TEXT_TYPES 
    ( 
     CODE
    ) 
    ON DELETE CASCADE 
;


ALTER TABLE TEXT_ITEMS 
    ADD CONSTRAINT FK_TXI_LANG FOREIGN KEY 
    ( 
     LANG_CODE
    ) 
    REFERENCES LANGUAGES 
    ( 
     CODE
    ) 
;


ALTER TABLE TEXT_ITEMS 
    ADD CONSTRAINT FK_TXI_TTH FOREIGN KEY 
    ( 
     TXT_ID,
     TXTT_CODE
    ) 
    REFERENCES TEXT_TYPE_HEADERS 
    ( 
     TXT_ID,
     TXTT_CODE
    ) 
    ON DELETE CASCADE 
;


ALTER TABLE TEXT_TYPES 
    ADD CONSTRAINT FK_TXTT_TXT FOREIGN KEY 
    ( 
     TXT_ID
    ) 
    REFERENCES TEXT_HEADERS 
    ( 
     ID
    ) 
;


ALTER TABLE TEXT_HEADERS 
    ADD CONSTRAINT FK_TXT_TAB FOREIGN KEY 
    ( 
     TAB_ALIAS
    ) 
    REFERENCES TABLE_ALIASES 
    ( 
     ALIAS
    ) 
;

CREATE SEQUENCE LOC_SEQ 
    MAXVALUE 9999999 ;

CREATE SEQUENCE STC_SEQ ;

CREATE SEQUENCE STB_SEQ ;

CREATE OR REPLACE TRIGGER STB_RBI_ID 
BEFORE INSERT ON STATISTICS_BATCHES 
FOR EACH ROW 
WHEN (NEW.ID IS NULL) 
BEGIN 
    SELECT STB_SEQ.NEXTVAL INTO :NEW.ID FROM DUAL; 
END;
/

CREATE SEQUENCE TXT_SEQ ;

CREATE OR REPLACE TRIGGER TXT_RBI_ID 
BEFORE INSERT ON TEXT_HEADERS 
FOR EACH ROW 
WHEN (NEW.ID IS NULL) 
BEGIN 
    SELECT TXT_SEQ.NEXTVAL INTO :NEW.ID FROM DUAL; 
END;
/

CREATE SEQUENCE PER_SEQ ;

CREATE OR REPLACE TRIGGER PER_RBI_SEQ 
BEFORE INSERT ON TIME_PERIODS 
FOR EACH ROW 
WHEN (NEW.ID IS NULL) 
BEGIN 
    SELECT PER_SEQ.NEXTVAL INTO :NEW.ID FROM DUAL; 
END;
/





























-- Oracle SQL Developer Data Modeler Summary Report: 
-- 
-- CREATE TABLE                            26
-- CREATE INDEX                             3
-- ALTER TABLE                            119
-- CREATE VIEW                              0
-- CREATE PACKAGE                           0
-- CREATE PACKAGE BODY                      0
-- CREATE PROCEDURE                         0
-- CREATE FUNCTION                          0
-- CREATE TRIGGER                           3
-- CREATE STRUCTURED TYPE                   0
-- CREATE COLLECTION TYPE                   0
-- CREATE CLUSTER                           0
-- CREATE CONTEXT                           0
-- CREATE DATABASE                          0
-- CREATE DIMENSION                         0
-- CREATE DIRECTORY                         0
-- CREATE DISK GROUP                        0
-- CREATE ROLE                              0
-- CREATE ROLLBACK SEGMENT                  0
-- CREATE SEQUENCE                          5
-- CREATE MATERIALIZED VIEW                 0
-- CREATE SYNONYM                           0
-- CREATE TABLESPACE                        0
-- CREATE USER                              0
-- 
-- DROP TABLESPACE                          0
-- DROP DATABASE                            0
-- 
-- ERRORS                                   0
-- WARNINGS                                 0
